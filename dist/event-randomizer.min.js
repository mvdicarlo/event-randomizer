!function(n,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():n.EventRandomizer=t()}(this,function(){"use strict";return new function(){var t=this,e=!1,r=Object.keys(window).filter(function(n){return n.match(/^on/)}).map(function(n){return n.replace(/^on/,"")})||[],u={},o=void 0,i=void 0,a=void 0;function c(n){!function(n){i[Math.floor(Math.random()*o)]+=function(n){for(var t=[],e=function n(t){if(u[t.constructor.name])return u[t.constructor.name];if(!(t instanceof Event))return[];for(var e=n(t.__proto__),r=Object.keys(t.__proto__),o=0;o<r.length;o++)e.push(r[o]);return u[t.constructor.name]||(u[t.constructor.name]=e),e}(n),r=0;r<e.length;r++){var o=n[e[r]];"number"==typeof o&&t.push(o)}return t}(n).reduce(function(n,t){return n+t},0),crypto.getRandomValues(a),t.onUpdate&&t.onUpdate(t.getValue())}(n)}t.onUpdate=void 0,t.start=function(n){o=parseInt(n||128),i=new Int32Array(o),a=new Int32Array(o),e||function(){for(var n=0;n<r.length;n++)window.addEventListener(r[n],c,{passive:!0});e=!0}()},t.stop=function(){e&&function(){for(var n=0;n<r.length;n++)window.removeEventListener(r[n],c);e=!1}()},t.getValue=function(){for(var n=new Int32Array(o),t=0;t<o;t++)n[t]=i[t]+a[t];return n},t.clear=function(){i=new Int32Array(o),a=new Int32Array(o)}}});